<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <main>
        <section>
            <h1>Digite o nome do produto:</h1>
            <input type="text" id="input_nome_produto">
            <br><br>

            <h1>Digite o código do produto:</h1>
            <input type="text" id="input_codigo_produto">
            <br><br>

            <h1>Digite a quantidade do produto:</h1>
            <input type="number" id="input_qtd_produto">
            <br><br><br>
        </section>

        <section>

            <button id="btn_cad" onclick="Cadastrar()">Cadastrar Produto</button>
            <button id="btn_rep" onclick="Repor()">Repor Estoque</button>
            <button id="btn_vend" onclick="Vender()">Vender Produto</button>
            <button id="btn_exib" onclick="Exibir()">Exibir Relatório</button>
            <button id="btn_rem" onclick="Remover()">Remover Produto</button>

            <br><br>
        </section>

        <section>
            <div id="div_msm"></div>
        </section>

    </main>

</body>

</html>

<script>

    var Lista_nomes = [];
    var Lista_codigo = [];
    var Lista_quantidade = [];

    function Cadastrar() {
        var nome_produto = input_nome_produto.value;
        var codigo_produto = input_codigo_produto.value;
        var qtd_produto = Number(input_qtd_produto.value);

        var existe = false;

        if (nome_produto != '' && codigo_produto != '' && qtd_produto > 10) {
            for (var i = 0; i < Lista_codigo.length; i++) {
                var elemento_atual = Lista_codigo[i]

                if (elemento_atual == codigo_produto) {
                    existe = true;
                    break;
                }
            }

            if (existe) {
                div_msm.innerHTML = `Código de produto ${codigo_produto} já existe `;
            } else {
                Lista_nomes.push(nome_produto);
                Lista_codigo.push(codigo_produto);
                Lista_quantidade.push(qtd_produto);
            }

        } else {
            div_msm.innerHTML = 'Preencha todos os campos para registrar um novo produto';
        }


    }

    function Vender() {
        var nome_produto = input_nome_produto.value;
        var codigo_produto = input_codigo_produto.value;
        var qtd_produto = Number(input_qtd_produto.value);

        var indice = -1;

        for (var i = 0; i < Lista_codigo.length; i++) {
            var nome_atual = Lista_nomes[i]
            var codigo_atual = Lista_codigo[i]
            var qtd_atual = Lista_quantidade[i]

            if (nome_atual == codigo_produto && codigo_atual == codigo_produto) {
                indice = i
                break;
            }
        }

        if (indice > -1) {
            if (qtd_produto <= Lista_quantidade[indice]) {
                div_msm.innerHTML = 'Quantidade inválida';
            } else {
                Lista_quantidade[indice] -= quantidade;
                div_msm.innerHTML = `${qtd_produto}x do ${nome_produto} foi vendido com sucesso`;
            }
        } else {
            div_msm.innerHTML = `Produto não identificado`;
        }


    }





</script>